var forEachEls=require("./foreach-els"),defaultSwitches=require("./switches");module.exports=function(n,s,e,t,h,r){var a=[];e.forEach(function(o){var e=t.querySelectorAll(o),i=h.querySelectorAll(o);if(this.log&&this.log("Pjax switch",o,e,i),e.length!==i.length)throw"DOM doesn’t look the same on new loaded page: ’"+o+"’ - new "+e.length+", old "+i.length;forEachEls(e,function(e,t){var h=i[t];this.log&&this.log("newEl",e,"oldEl",h);var l=n[o]?n[o].bind(this,h,e,r,s[o]):defaultSwitches.outerHTML.bind(this,h,e,r);a.push(l)},this)},this),this.state.numPendingSwitches=a.length,a.forEach(function(e){e()})};